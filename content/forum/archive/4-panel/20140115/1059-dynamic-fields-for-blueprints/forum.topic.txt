Title: Dynamic fields for blueprints?

----

Date: 2014-01-15 10:59:24

----

Solved: 0

----

User: sammularczyk

----

Text: I'm trying to create a dynamic YAML blueprint - generated by PHP - that will eventually cycle through children of a specific page and create individual fields for each.

I've been able to output the YAML below:

    title: Page
    pages: 'false'
    files: 'true'
    fields:
      title:
        label: Name
        type: text
      text:
        label: Short description
        type: textarea
        size: small

from this PHP code:

    $array['title'] = 'Page';
    $array['pages'] = 'false';
    $array['files'] = 'true';

    $array['fields'] = array(
	    'title' => array(
		    'label' => 'Name', 
		    'type' => 'text'
	    	), 
	    'text' => array(
	    	'label' => 'Short description', 
		    'type' => 'textarea',
		    'size' => 'small'
		    )
    );

However, while this works within a page template, putting it within a **blueprint** gives this error when I load the page in the Panel:

    Notice: Undefined offset: 20 in /kirby/parsers/yaml.php on line 437

The only field displayed is "Title". Are dynamic fields possible in this way or am I doing something wrong?